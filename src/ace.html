<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="author" content="Abhishek Dutta">
    <meta name="description" content="A software tool to manually annotate and analyse the evolution of software program code contained in a code repository.">
    <title>Analysis of Code Evolution (ACE)</title>
  </head>
  <body>
    <h1>Analysis of Code Evolution (ACE)</h1>
    <select id="tag_list"></select>
  </body>

  <script src="git.js"></script>

  <script>
    const REPO_BASEURL = '../repo/';
    const REPO_NAME = 'coreutils.git';
    const SELECTED_TAG_NAME = 'refs/tags/v8.3';

    const repo_url = REPO_BASEURL + REPO_NAME;

    const git = new _git(repo_url);
    git.load_tag_ref().then(function(ok_tag) {
      const selected_tag_id = git.tag_ref[SELECTED_TAG_NAME]['tag_id'];
      const selected_tag_commit_id = git.tag_ref[SELECTED_TAG_NAME]['commit_id'];
      this.load_all_packs().then(function(ok_pack) {
        console.log(SELECTED_TAG_NAME + ': tag-id=' + selected_tag_id
                    + ', tag-offset=' + this.pack_index[selected_tag_id]['offset']
                    + ', tag-crc=' + this.pack_index[selected_tag_id]['crc']
                   );
      }.bind(this), function(err_pack) {
        console.error(err_pack);
      });
    }.bind(git), function(err_tag) {
      console.error(err);
    });
  </script>
</html>
